<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shopping Cart</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="Shopping.css">
</head>
<body>
    <script src="Shopping.js"></script>
    <main>
        <div class="col-lg-12">
            <div class="divform">
                <label for="prodInput">Choose your product:</label>
                <input type="number" placeholder="5" class="prodInput" id="prodInput" autofocus max="17" onkeypress="if ( isNaN( String.fromCharCode(event.keyCode) )) return false;">
                <button class="searchbutton" id="searchbutton" onclick="searchProduct()">Search</button>
                <script>
                    var input = document.getElementById("prodInput");
                    input.addEventListener("keypress", function(event){
                    if(event.key === "Enter"){
                        event.preventDefault();
                        document.getElementById("searchbutton").click();
                    }
                    });
                </script>
            </div>            
        </div>
        <div class="col-lg-12">
            <div class="divtable col-lg-5 col-md-5">
                <table width="600px" id="tablecontent">
                    <caption>Products</caption>
                    <col style="width: 15%">
                    <col style="width: 85%">
                    <tr>
                        <th>ID</th><td id="prod_id"></td>
                    </tr>
                    <tr>
                        <th>Name</th><td id="name"></td>
                    </tr>
                    <tr>
                        <th>Cost</th><td id="cost"></td>
                    </tr>
                    <tr>
                        <th>Price</th><td id="price"></td>
                    </tr>
                    <tr>
                        <th>Description</th><td id="description"></td>
                    </tr>
                    <tr>
                        <th>Department</th><td id="department"></td>
                    </tr>
                    <tbody id="productTable"></tbody>
                </table>
                <div class="trigger modal-button">
                    <button class=" trigger modalbutton" id="trigger-modalbutton" type="button" data-toggle="modal" data-target="#mymodal" disabled>Add</button>
                </div>
                <div>
                    <button class="reset-table" onclick="tableReset()">Reset</button>
                </div>
            </div>
            <div class="col-lg-7 col-md-7">
                <div class="summary">
                    <div class="summary-total-items"><h6><span id="summary-totalitems" class="summary-totalitems"></span> Items in your Shopping Cart</h6></div>
                    <div class="sumary-items">
                        <div class="summary-list" id="summary-list">
                            <ul id="summary-ul"></ul>
                        </div>
                        <div class="sum-total" id="sumtotal">
                            <div class="summary-total" id="summary-total"></div>
                        </div>
                        <button class="buy" id="buy" onclick="finishBuy()" disabled>Buy</button>
                        <button class="cancel" id="cancel" onclick="cancelBuy()">Cancel</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal fade" id="mymodal" role="dialog">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title">Add quantity of products</h4>
                    </div>
                    <div class="modal-body">
                        <p class="modal-product" id="modal-product"></p>
                        <input class="modal-input" id="modalinput" type="number" max="100" onkeypress="if ( isNaN( String.fromCharCode(event.keyCode) )) return false;">
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn accept" id="btnaccept" onclick="addItemsToSummary()" data-dismiss="modal">Accept</button>
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    </div>
                    <script>
                        var input = document.getElementById("modalinput");
                        input.addEventListener("keypress", function(event){
                        if(event.key === "Enter"){
                            event.preventDefault();
                            document.getElementById("btnaccept").click();
                        }
                        });
                    </script>
                </div>
            </div>
        </div>
    </main>
</body>
</html>